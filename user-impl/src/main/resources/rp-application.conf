# Generated by sbt-reactive-app. To disable this, set the `prependRpConf` sbt key to `""`.

include "application.conf"
# jar:file:/Users/renato/.ivy2/cache/com.lightbend.rp/reactive-lib-akka-cluster-bootstrap_2.12/jars/reactive-lib-akka-cluster-bootstrap_2.12-1.7.0.jar!/rp-tooling.conf

akka {
  actor {
    provider = cluster
  }

  cluster {
    shutdown-after-unsuccessful-join-seed-nodes = 40s
  }

  management {
    cluster {
      bootstrap {
        contact-point-discovery {
          port-name = "akka-mgmt-http"
          protocol = "tcp"
          # Can be removed once https://github.com/akka/akka/issues/25825 is implemented
          service-namespace = ${?RP_NAMESPACE}".svc.cluster.local"
        }
      }
    }
  }

  library-extensions += "com.lightbend.rp.akkaclusterbootstrap.ClusterBootstrapAutostart"
}

com.lightbend.platform-tooling {
  status {
    health-checks += "com.lightbend.rp.akkaclusterbootstrap.ClusterStatusCheck"
    readiness-checks += "com.lightbend.rp.akkaclusterbootstrap.ClusterStatusCheck"
  }
}

# FIXME: Include these only when in a Lagom project. Mechanism TBD.

lagom {
  cluster {
    exit-jvm-when-system-terminated = on
    join-self = off
  }
}
# jar:file:/Users/renato/.ivy2/cache/com.lightbend.rp/reactive-lib-akka-management_2.12/jars/reactive-lib-akka-management_2.12-1.7.0.jar!/rp-tooling.conf

akka {
  library-extensions += "com.lightbend.rp.akkamanagement.AkkaManagementAutostart"
}
# jar:file:/Users/renato/.ivy2/cache/com.lightbend.rp/reactive-lib-service-discovery_2.12/jars/reactive-lib-service-discovery_2.12-1.7.0.jar!/rp-tooling.conf

akka {
  io {
    dns {
      resolver = async-dns
    }
  }
}
# jar:file:/Users/renato/.ivy2/cache/com.lightbend.rp/reactive-lib-status_2.12/jars/reactive-lib-status_2.12-1.7.0.jar!/rp-tooling.conf

akka {
  library-extensions += "com.lightbend.rp.status.ApplicationStatus"

  management {
    http {
      route-providers += "com.lightbend.rp.status.ApplicationStatus"
    }
  }
}